# 工作任务报告

## 1. 工作任务
- 构建赛车项目整体框架。
- 定义Gazebo地图和差速小车的URDF文件。
- 实现建图、感知、控制、规划、TF坐标转换等模块。
- 调试和优化路径规划与控制算法。

---

# 思考思路

1. **模块化设计**：将项目分为建图、感知、规划、控制和TF转换等模块，确保各模块独立开发和调试。
2. **动态局部规划**：优先实现简单高效的路径规划方法，满足实时性需求。
3. **控制算法选择**：结合差速小车的运动学特点，选择适合的控制算法以实现稳定的速度和转向控制。
4. **问题导向优化**：针对每个模块中遇到的问题，逐步尝试不同方法进行优化。

---

# 算法选择

1. **路径规划**：
   - **尝试的算法**：
     - 贝塞尔曲线
     - 五次多项式曲线
     - 三次插值
   - **最终选择**：线性插值
     - **原因**：上述复杂曲线拟合方法效果不佳，线性插值简单高效，适合动态局部规划。

2. **控制算法**：
   - **初始方案**：
     - 横向控制：纯跟踪方法
     - 纵向控制：PID控制
   - **最终选择**：横向和纵向控制均采用PID算法
     - **原因**：纯跟踪方法无法很好地控制差速小车的转向，PID控制更适合差速小车的运动学特性。

---

# 遇到的问题及解决方法

1. **路径规划效果不佳**：
   - **问题**：尝试的贝塞尔曲线、五次多项式曲线和三次插值方法生成的路径不够平滑或不适合动态规划。
   - **解决方法**：改用线性插值方法，满足实时性和动态规划需求。

2. **控制算法不适配**：
   - **问题**：纯跟踪横向控制方法无法有效控制差速小车的转向。
   - **解决方法**：放弃纯跟踪方法，改用PID算法实现横向和纵向控制。

3. **TF_REPEATED_DATA警告**：
   - **问题**：Gazebo仿真中出现TF重复发布的警告。
   - **解决方法**：调整Gazebo插件配置，避免重复发布TF数据。

---